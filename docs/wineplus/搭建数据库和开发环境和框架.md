---
sidebar: auto
title: 安装和搭建PHP环境 和 PHP框架
lang: cn-Zh
---


## 安装和搭建PHP环境和PHP框架

PHP框架选用 Laravel 框架，并且使用 Composer 安装。

### Composer 安装在 开发环境 ： 
```
MACOS

php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"
php -r "if (hash_file('sha384', 'composer-setup.php') === '48e3236262b34d30969dca3c37281b3b4bbe3221bda826ac6a9a62d6444cdb0dcd0615698a5cbe587c3f0fe57a54d8f5') { echo 'Installer verified'; } else { echo 'Installer corrupt'; unlink('composer-setup.php'); } echo PHP_EOL;"
php composer-setup.php
php -r "unlink('composer-setup.php');"

sudo mv composer.phar /usr/local/bin/composer 

``` 
### 使用 Composer 安装 Laravel 框架


```
composer global require laravel/installer

//把laravel 命令添加到 bash下
export PATH=~/.composer/vendor/bin:$PATH

```

本地开发环境测试
```
php artisan serve

http://localhost:8000

```
### Nginx 配置

在站点配置中加入以下配置，所有的请求将会引导至 index.php 前端控制器

```
location / {
     try_files $uri $uri/ /index.php?$query_string;
}

```



## 更改数据名称

```
mysqldump -u dbuser -p dbname > dbname.sql

mysqldump -u root -p WinePlus_bottling > WinePlus_bottling.sql
```
创建一个新的数据库 WinePlus

```
CREATE DATABASE WinePlus;
```
赋权限给 orchid 用户
```
GRANT ALL ON WinePlus.* TO 'orchid'@'%';
```
导入数据到新的数据库

```
mysql -uroot   -p < WinePlus_bottling.sql
```
删除原始数据库
```
mysql> drop database WinePlus_bottling;
```
